(function(){var t={lib:{}},N=function(){var q=["0","0","0"];return function(){for(var a=q.length,b;a;){a--;b=q[a].charCodeAt(0);if(57==b)return q[a]="A",q.join("");if(90==b)q[a]="0";else return q[a]=String.fromCharCode(b+1),q.join("")}q.unshift("0");return q.join("")}}(),y=Array.prototype.slice,u=function(q){return!(!q||q.constructor!==Object)},z=function(q){return"undefined"==typeof q},I=function a(){var b=!1,c=!1,d=y.call(arguments),e=d.shift(),m,g,r;"boolean"==typeof d[d.length-1]&&(b=d.pop());
"boolean"==typeof d[d.length-1]&&(c=b,b=d.pop());for(;d.length;)if(m=d.shift())for(g in m)if(m.hasOwnProperty(g)&&!z(r=m[g]))if(c)if(e[g]&&u(e[g])&&u(r))a(e[g],r,b,c);else{if(!0===b||z(e[g])||null===e[g])u(r)?(e[g]={},a(e[g],r,b,!0)):e[g]=r}else if(!0===b||z(e[g])||null===e[g])e[g]=r;return e},T=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},D=function(a){return"function"===typeof a},E=function(){this.events={}};E.prototype={createEvent:function(a,
b){a=a.toLowerCase();var c=this.events;c[a]||(c[a]=new A(a,b));return c[a]},getEvent:function(a){a=a.toLowerCase();return this.events[a]},on:function(a,b,c,d){a=a.toLowerCase();var e=this.events;e[a]||(e[a]=new A(a));return e[a].on(b,c,d)},once:function(a,b,c,d){d=d||{};d.limit=1;return this.on(a,b,c,d)},un:function(a,b,c){a=a.toLowerCase();var d=this.events;d[a]&&d[a].un(b,c)},hasListener:function(a,b,c){a=a.toLowerCase();var d=this.events;return d[a]?d[a].hasListener(b,c):!1},removeAllListeners:function(a){var b=
this.events;b[a]&&b[a].removeAllListeners()},trigger:function(){var a=arguments[0],b=this.events,a=a.toLowerCase();if(!b[a])return null;a=b[a];return a.trigger.apply(a,y.call(arguments,1))},suspendEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].suspend()},suspendAllEvents:function(){var a=this.events,b;for(b in a)a[b].suspend()},resumeEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].resume()},resumeAllEvents:function(){var a=this.events,b;for(b in a)a[b].resume()},
destroyEvent:function(a){var b=this.events;b[a]&&(b[a].removeAllListeners(),b[a].destroy(),delete b[a])},destroy:function(a){var b=this.events;if(a)a=a.toLowerCase(),b[a]&&(b[a].destroy(),delete b[a]);else{for(var c in b)b[c].destroy();this.events={}}},getApi:function(){if(!this.api){for(var a="createEvent getEvent on un once hasListener removeAllListeners trigger suspendEvent suspendAllEvents resumeEvent resumeAllEvents destroyEvent".split(" "),b={},c,d=-1,e=a.length;++d<e;c=a[d],b[c]=T(this[c],
this));this.api=b}return this.api}};var A=function(a,b){this.name=a;this.listeners=[];this.map={};this.hash=N();this.uni="$$"+a+"_"+this.hash;this.suspended=!1;this.lid=0;this.returnResult=z(b)?null:b};A.prototype={getName:function(){return this.name},destroy:function(){this.map=this.listeners=null},on:function(a,b,c){if(!a)return null;b=b||null;c=c||{};var d=this.uni,e=b||a;if(e[d]&&!c.allowDupes)return null;var m=++this.lid,g=c.first||!1;e[d]=m;a={fn:a,scope:b,uniScope:e,id:m,called:0,limit:c.limit||
0,start:c.start||1,count:0,append:c.append,prepend:c.prepend};g?this.listeners.unshift(a):this.listeners.push(a);this.map[m]=a;return m},once:function(a,b,c){c=c||{};c.once=!0;return this.on(a,b,c)},un:function(a,b){var c=-1,d=this.uni,e=this.listeners,m;m=a==parseInt(a)?a:(b||a)[d];if(!m)return!1;for(var g=0,r=e.length;g<r;g++)if(e[g].id==m){c=g;delete e[g].uniScope[d];break}if(-1==c)return!1;e.splice(c,1);delete this.map[m];return!0},hasListener:function(a,b){var c=this.listeners,d;if(a){b=b||a;
d=D(a)?b[this.uni]:a;if(!d)return!1;for(var e=0,m=c.length;e<m;e++)if(c[e].id==d)return!0;return!1}return 0<c.length},removeAllListeners:function(){var a=this.listeners,b=this.uni,c,d;c=0;for(d=a.length;c<d;c++)delete a[c].uniScope[b];this.listeners=[];this.map={}},suspend:function(){this.suspended=!0},resume:function(){this.suspended=!1},_prepareArgs:function(a,b){var c;a.append||a.prepend?(c=y.call(b),a.prepend&&(c=a.prepend.concat(c)),a.append&&(c=c.concat(a.append))):c=b;return c},trigger:function(){var a=
this.listeners,b=this.returnResult;if(this.suspended||0==a.length)return null;for(var c="all"==b?[]:null,d,e,a="first"==b?[a[0]]:y.call(a);d=a.shift();)if(d&&this.map[d.id]&&(d.count++,!(d.count<d.start))){e=d.fn.apply(d.scope,this._prepareArgs(d,arguments));d.called++;d.called==d.limit&&this.un(d.id);"all"==b&&c.push(e);if("first"==b)return e;"last"==b&&(c=e);if(!1==b&&!1===e)break}if(b)return c}};(function(){var a=new E;I(t,a.getApi(),!0,!1)})();t.lib.Observable=E;var v=Object.prototype.toString,
s=function(a){var b;if(b=a&&null!=a&&"object"===typeof a)b=a.length,b="number"==typeof b&&!isNaN(b);return!(!b||"[object Array]"!=v.call(a))},J=function(a){return"[object Date]"===v.call(a)},K=function(a){return"[object RegExp]"===v.call(a)},L=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval},B=function(a){return"string"==typeof a},w=function(){return String.prototype.trim?function(a){return B(a)?a.trim():a}:function(a){return B(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),
C=function(){},U=function(){var a=/(^|[^a-z0-9_$])(\.)([^0-9])/ig,b=function(n){if(!B(n))return!0;var a=n.substr(0,1),h=n.length-1;return'"'!=a&&"'"!=a||n.indexOf(a,1)!=h?!1:n.substring(1,h)},c=function(n,a){if(L(n))throw Error("Cannot copy window object");if(a){if(n===a)throw Error("Objects are identical");if(s(n))for(var h=a.length=0;h<n.length;h++)a.push(c(n[h]));else{for(h in a)delete a[h];for(h in n)a[h]=c(n[h])}}else(a=n)&&(s(n)?a=c(n,[]):J(n)?a=new Date(n.getTime()):K(n)?a=new RegExp(n.source):
null!=n&&"object"===typeof n&&(a=c(n,{})));return a},d=function(a,l){if(a===l)return!0;if(null===a||null===l)return!1;if(a!==a&&l!==l)return!0;var h=typeof a,b;if(h==typeof l&&"object"==h)if(s(a)){if(!s(l))return!1;if((h=a.length)==l.length){for(b=0;b<h;b++)if(!d(a[b],l[b]))return!1;return!0}}else{if(J(a))return J(l)&&a.getTime()==l.getTime();if(K(a)&&K(l))return a.toString()==l.toString();if(L(a)||L(l)||s(l))return!1;h={};for(b in a)if(("$"!==b.charAt(0)||"object"!=typeof a[b])&&!D(a[b])){if(!d(a[b],
l[b]))return!1;h[b]=!0}for(b in l)if(!h.hasOwnProperty(b)&&"$"!==b.charAt(0)&&void 0!==l[b]&&!D(l[b]))return!1;return!0}return!1},e=function(a,l){var b=a.length,c=l.length,p=Array(b+1),x=Array(b+1),f,k,e,g,m=0;if(b==c&&0==b)return{changes:0,distance:0,prescription:[]};for(f=0;f<=b;f++)p[f]=Array(c+1),x[f]=Array(c+1),p[f][0]=f,x[f][0]="D";for(f=0;f<=c;f++)p[0][f]=f,x[0][f]="I";for(f=1;f<=b;f++)for(k=1;k<=c;k++)e=d(a[f-1],l[k-1])?0:1,p[f][k-1]<p[f-1][k]&&p[f][k-1]<p[f-1][k-1]+e?(p[f][k]=p[f][k-1]+1,
x[f][k]="I"):p[f-1][k]<p[f-1][k-1]+e?(p[f][k]=p[f-1][k]+1,x[f][k]="D"):(p[f][k]=p[f-1][k-1]+e,x[f][k]=1==e?"R":"-");g=[];f=b;k=c;do e=x[f][k],g.push(e),"-"!=e&&m++,"R"==e||"-"==e?(f--,k--):"D"==e?f--:k--;while(0!=f||0!=k);return{changes:m/g.length,distance:p[b][c],prescription:g.reverse()}},m,g=function(a,l,h,c,d,e){m||(m=new E);var f=N(),k;e&&(this.namespace=e,this.nsGet=e.get);this.origCode=l;s(a)&&null===l?k="array":(B(l)||(c=h,h=l,l=null,k="object"),B(a)&&(c=h,h=l,l=a,a=null),l&&a&&(k=a.hasOwnProperty(l)?
"attr":"expr"),l&&!a&&(k="expr"));if(h)m.on(f,h,c||this,{append:[d],allowDupes:!0});if("expr"==k){l=this._processInputPipes(l,a);l=this._processPipes(l,a);if(this.inputPipes||this.pipes)l=t(a,l),k=a.hasOwnProperty(l)?"attr":"expr";if(this.staticValue=b(l))k="static"}this.userData=d;this.code=l;this.id=f;this.type=k;this.obj=a;"expr"==k&&(this.getterFn=M(l));this.curr=this._getValue()};g.prototype={namespace:null,nsGet:null,staticValue:null,origCode:null,code:null,getterFn:null,setterFn:null,id:null,
type:null,obj:null,itv:null,curr:null,pipes:null,inputPipes:null,lastSetValue:null,userData:null,_processInputPipes:function(a,l){if(-1==a.indexOf(">>"))return a;for(var b=0,c=a.length,d=[],e,f,k,g=a;b<c&&-1!=(e=a.indexOf(">>",b));)f=a.charAt(e-1),k=a.charAt(e+2),"\\"!=f&&"'"!=f&&'"'!=f&&"'"!=k&&'"'!=k&&(b=w(a.substring(b,e)).split(":"),g=a.substr(e+2),this._addPipe(d,b,l,this.onInputParamChange)),b=e+2;d.length&&(this.inputPipes=d);return w(g)},_addPipe:function(a,l,b,c){var d=l.shift(),e=null,f=
[],k;this.nsGet&&(e=this.nsGet("filter."+d,!0));e||(e=window[d]||b[d]);if(D(e)){d=-1;for(k=l.length;++d<k;f.push(r(b,l[d],c,this,null,this.namespace)));a.push([e,l,f])}},_processPipes:function(a,b){if(-1==a.indexOf("|"))return a;for(var h=0,c=a.length,d=[],e,f,k,g=!1,m=a;h<c;)if(-1!=(e=a.indexOf("|",h)))f=a.charAt(e-1),k=a.charAt(e+1),"|"!=f&&"'"!=f&&'"'!=f&&"|"!=k&&"'"!=k&&'"'!=k&&(g?(h=w(a.substring(h,e)).split(":"),this._addPipe(d,h,b)):(g=!0,m=w(a.substring(0,e)))),h=e+1;else{g&&(h=w(a.substr(h)).split(":"),
this._addPipe(d,h,b,this.onPipeParamChange));break}d.length&&(this.pipes=d);return m},_checkCode:function(){var a=this._getValue(),b=!1,h=this.curr;if(s(h)&&s(a))return b=e(h,a),b.changes?(this.curr=a.slice(),m.trigger(this.id,b,a,h),!0):!1;a!==h&&(this.curr=a,m.trigger(this.id,a,h),b=!0);return b},_checkObject:function(){var a=this.obj,b=this.curr;return d(b,a)?!1:(this.curr=c(a),m.trigger(this.id,a,b),!0)},_checkArray:function(){var a=this.curr,b=this.obj,h=e(a,b);return h.changes?(this.curr=b.slice(),
m.trigger(this.id,h,b,a),!0):!1},_getValue:function(){var a;switch(this.type){case "static":a=this.staticValue;break;case "attr":a=this.obj[this.code];break;case "expr":a=this.getterFn(this.obj);z(a)&&(a="");break;case "object":a=c(this.obj);break;case "array":a=this.obj}s(a)&&(a=a.slice());return a=this._runThroughPipes(a,this.pipes)},_runThroughPipes:function(a,b){if(b){var h,c,d,e=b.length,f=this.obj,k,g;for(h=0;h<e;h++){d=b[h][1];c=[];k=-1;for(g=d.length;++k<g;c.push(O(d[k],f)));c.unshift(f);
c.unshift(a);a=b[h][0].apply(null,c)}}return a},subscribe:function(a,b,c){m.on(this.id,a,b,c)},unsubscribe:function(a,b){return m.un(this.id,a,b)},hasPipes:function(){return null!==this.pipes},hasInputPipes:function(){return null!=this.inputPipes},getValue:function(){return this._getValue()},setValue:function(a){var b=this.type;this.lastSetValue=a;a=this._runThroughPipes(a,this.inputPipes);if("attr"==b)this.obj[this.code]=a;else if("expr"==b)this.setterFn||(this.setterFn=P(this.code)),this.setterFn(this.obj,
a);else if("array"==b)this.obj=a;else throw"Cannot set value";},onInputParamChange:function(){this.setValue(this.lastSetValue)},onPipeParamChange:function(){this.check()},check:function(){switch(this.type){case "expr":case "attr":case "static":return this._checkCode();case "object":return this._checkObject();case "array":return this._checkArray()}return!1},checkAll:function(){return this.obj.$$watchers.$checkAll()},getLastResult:function(){return this.curr},setInterval:function(a){var b=this;b.itv&&
b.clearInterval();b.itv=setInterval(function(){b.check()},a)},clearInterval:function(){this.itv&&(clearInterval(this.itv),this.itv=null)},unsubscribeAndDestroy:function(a,b){var c=this.id;m.un(c,a,b);return m.hasListener(c)?!1:(this.destroy(),!0)},destroy:function(){var a=this.pipes,b=this.inputPipes,c,d,e,g,f;this.itv&&this.clearInterval();if(a)for(c=-1,d=a.length;++c<d;)for(f=a[c][2],e=-1,g=f.length;++e<g;)f[e].unsubscribeAndDestroy(this.check,this);if(b)for(c=-1,d=b.length;++c<d;)for(f=b[c][2],
e=-1,g=f.length;++e<g;)f[e].unsubscribeAndDestroy(this.onInputParamChange,this);this.obj&&delete this.obj.$$watchers[this.origCode];delete this.id;delete this.curr;delete this.obj;delete this.pipes;delete this.inputPipes;delete this.origCode;delete this.code;delete this.getterFn;delete this.setterFn;delete this.lastSetValue;delete this.staticValue;delete this.userData;delete this.namespace;delete this.nsGet;m.destroyEvent(this.id)}};var r=function(a,b,c,d,e,m){b=t(a,w(b));return a?(a.$$watchers||
(a.$$watchers={$checkAll:function(){var a,b=0;for(a in this)"$"!=a.charAt(0)&&this[a].check()?b++:"$"==a.charAt(0)&&this[a]instanceof g&&this[a].check()&&b++;return b},$destroyAll:function(){for(var a in this)if("$"!=a.charAt(0)||this[a]instanceof g)this[a].destroy(),delete this[a]}}),a.$$watchers[b]?a.$$watchers[b].subscribe(c,d,{append:[e],allowDupes:!0}):a.$$watchers[b]=new g(a,b,c,d,e,m),a.$$watchers[b]):new g(a,b,c,d,e,m)},t=function(a,b){if(a&&b){if(a.hasOwnProperty(b))return b;var c;if("."==
b.charAt(0)&&(c=b.substr(1),a.hasOwnProperty(c)))return c}return b},u=Function,A=function(a,b,c,d){for(;c&&!c.$isRoot;)if(c=c.$parent)try{return 4==arguments.length?b.call(null,c,d,C,b):b.call(null,c,C,b)}catch(e){}},v=function(a){return function(){var b=y.call(arguments);b.push(A);b.push(a);var c=b=a.apply(null,b);return z(c)||!c&&"number"==typeof c&&isNaN(c)?(b=y.call(arguments),b.unshift(a),b.unshift(null),A.apply(null,b)):b}},F={},Q=0,M=function(b){try{return F[b]?F[b]:(Q++,F[b]=v(new u("____",
"$$interceptor","$$itself","".concat("try {","return ",b.replace(a,"$1____.$3"),";} catch (thrownError) { return $$interceptor(thrownError, $$itself, ____); }"))))}catch(c){return C}},G={},R=0,P=function(b){try{if(!G[b]){R++;var c=b.replace(a,"$1____.$3");return G[b]=v(new u("____","$$$$","$$interceptor","$$itself","".concat("try {",c," = $$$$",";} catch (thrownError) { return $$interceptor(thrownError, $$itself, ____, $$$$); }")))}return G[b]}catch(d){return C}},H={},S=0,O=function(a,c){var d;return(d=
b(a))?d:M(a)(c)},I=function(){1E3<=Q&&(F={});1E3<=R&&(G={});1E3<=S&&(H={})};g.create=r;g.unsubscribeAndDestroy=function(a,b,c,d){b=w(b);(a=a.$$watchers)&&a[b]&&a[b].unsubscribeAndDestroy(c,d)&&delete a[b]};g.normalizeExpr=t;g.prepareCode=function(b){return b.replace(a,"$1____.$3")};g.createGetter=M;g.createSetter=P;g.createFunc=function(b){try{return H[b]?H[b]:(S++,H[b]=v(new u("____","$$interceptor","$$itself","".concat("try {",b.replace(a,"$1____.$3"),";} catch (thrownError) { return $$interceptor(thrownError, $$itself, ____); }"))))}catch(c){return C}};
g.eval=O;g.enableResetCacheInterval=function(){setTimeout(I,1E4)};return g}();t.lib.Watchable=U})();
